<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>ChessLibrary</title>
  <link rel="stylesheet" href="static/style.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css">
</head>

<body id="topo" class="bg-secondary">

  <nav class="navbar navbar-expand-lg  navbar-dark">
    <div class="container">
      <form class="d-flex" method="get" action="{{ url_for('pagina_aberturas') }}">
        <input
          class="form-control me-2"
          type="search"
          name="q"
          placeholder="Pesquisar abertura..."
          value="{{ request.args.get('q', '') }}"
        >
        <button class="btn btn-success" type="submit">
          Pesquisar
        </button>
      </form>

      <a class="navbar-brand" href="#"></a>

      <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#menu">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="menu">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item">
          <a class="nav-link d-flex align-items-center gap-2" href="#topo">
            <i class="fa-solid fa-house"></i>
            Início
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link d-flex align-items-center gap-2" href="#sobre">
            <i class="fa-solid fa-question"></i>
            Sobre
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link d-flex align-items-center gap-2" href="{{ url_for('pagina_favoritos') }}">
            <i class="fa-solid fa-star"></i>
            Favoritos
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link d-flex align-items-center gap-2" href="{{ url_for('cadastro_abertura') }}">
            <i class="fa-solid fa-chess"></i>
            Cadastro Abertura
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link d-flex align-items-center gap-2" href="{{ url_for('cadastro_usuario') }}">
            <i class="fa-solid fa-circle-user"></i>
            Se cadastre agora
          </a>
        </li>

        <li class="nav-item">
          <a class="nav-link d-flex align-items-center gap-2" href="{{ url_for('pagina_aberturas') }}">
            <i class="fa-solid fa-chess-board"></i>
            Acesse as aberturas
          </a>
        </li>

      </ul>

      </div>

    </div>
  </nav>

  <section class="container my-4">
    <h2 class="mb-4 text-center text-white">Áreas do Site</h2>
      <div id="carousel" class="carousel slide" data-bs-ride="carousel">

        <div class="carousel-inner">
          <div class="carousel-item active" data-bs-interval="2000" >
            <img src="static/assents/img/1.png" class="d-block w-100 h-25" alt="Imagem referente a seção de jogos">

          </div>

          <div class="carousel-item" data-bs-interval="2000">
            <img src="static/assents/img/2.png" class="d-block w-100 h-25" alt="Imagem referente a seção de livros">

          </div>

          <div class="carousel-item" data-bs-interval="2000">
            <img src="static/assents/img/3.png" class="d-block w-100 h-25" alt="Imagem referente a seção de Hq's">
          </div>
          
          <div class="carousel-item" data-bs-interval="2000">
            <img src="static/assents/img/4.png" class="d-block w-100 h-25" alt="Imagem referente a seção de animes">
          </div>
          
          <div class="carousel-item" data-bs-interval="2000">
            <img src="static/assents/img/5.png" class="d-block w-100 h-25" alt="Imagem referente a seção de RPG's">
          </div>
        </div>

        <button class="carousel-control-prev" type="button"
        data-bs-target="#carousel" data-bs-slide="prev">
          <span class="carousel-control-prev-icon"></span>
        </button>

        <button class="carousel-control-next" type="button"
                data-bs-target="#carousel" data-bs-slide="next">
          <span class="carousel-control-next-icon"></span>
        </button>

      </div>

  </section>

  <section id="sobre" class="container my-4">
    <h2 class="mb-4 text-center text-white">Qual o intuito do site?</h2>
    <p class="mb-4 text-center text-white">
      O ChessLibrary é uma biblioteca virtual dedicada ao estudo das aberturas
    de xadrez. A plataforma permite que jogadores iniciantes e intermediários
    conheçam as principais aberturas, seus movimentos iniciais e conceitos
    estratégicos.

    O site organiza as aberturas por nome e código ECO, facilitando a consulta
    e o aprendizado. Usuários cadastrados podem favoritar suas aberturas
    preferidas e montar sua própria lista de estudos.
    </p>
  </section>

<section id="abertura" class="container my-4">
  <h2 class="mb-4 text-center text-white">Aberturas de Xadrez</h2>

  <div class="row g-3">

    {% for abertura in aberturas %}
      <div class="col-md-4 mb-4">
  <div class="card h-100 abertura-card d-flex flex-column"
       onclick="window.location.href='{{ url_for('abertura_detalhada', id_abertura=abertura.idAbertura) }}'"
       style="cursor: pointer;">

    <!-- IMAGEM -->
    <img src="{{ url_for('static', filename='tabuleiros/' ~ abertura.img_tabuleiro) }}"
         class="card-img-top"
         alt="{{ abertura.Nome }}">

    <!-- CORPO -->
    <div class="card-body">
      <h5 class="card-title">{{ abertura.Nome }}</h5>
      <p class="card-text">{{ abertura.Descricao }}</p>

      <span class="badge bg-primary">{{ abertura.Tipo }}</span>
      <span class="badge bg-success">{{ abertura.Nivel }}</span>
    </div>

    <!-- RODAPÉ (sempre embaixo) -->
    <div class="card-footer bg-transparent border-0 text-end">

      {% if abertura.idAbertura in favoritos_ids %}
        <form action="{{ url_for('desfavoritar_abertura', id_abertura=abertura.idAbertura) }}"
              method="post"
              class="d-inline">
          <button type="submit"
                  class="fav-btn favoritado"
                  onclick="event.stopPropagation()">
            <i class="fa-solid fa-star"></i>
          </button>
        </form>
      {% else %}
        <form action="{{ url_for('favoritar_abertura', id_abertura=abertura.idAbertura) }}"
              method="post"
              class="d-inline">
          <button type="submit"
                  class="fav-btn"
                  onclick="event.stopPropagation()">
            <i class="fa-regular fa-star"></i>
          </button>
        </form>
      {% endif %}

    </div>

  </div>
</div>

{% endfor %}


  </div>
</section>


  <footer class="bg-dark text-white text-center py-2 mt-4">
    Fim do site
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
